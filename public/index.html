<!DOCTYPE html>
<html lang="en-us">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  

  
  


  <meta charset="utf-8">



<meta name="viewport" content="width=device-width, initial-scale=1.0">


  
    
  


<meta name="color-scheme" content="light dark">







<meta name="generator" content="Hugo 0.147.7">
  <title>Networking &amp; DevOps</title>
  <link href="http://localhost:1313/" rel="canonical">




  <link href="alternate" rel="/feed.xml" type="application/rss+xml">

  








  

  
    
    
    
    
    
  
    
    
    
      
      
    
    
    
  
    
    
    
      
      
    
    
    
  
    
    
    
      
      
    
    
    
  
    
    
    
      
      
    
    
    
  


  
    <link href="/css/base.css" rel="stylesheet">



  

  
</head>

<body>
  <nav class="u-background">
  <div class="u-wrapper">
    <ul class="Banner">
      <li class="Banner-item Banner-item--title">
        
          <a class="Banner-link u-clickable" href="/">Networking &amp; DevOps</a>
        
      </li>
      
        
        
        <li class="Banner-item">
          <a class="Banner-link u-clickable" href="/">Posts</a>
        </li>
      
    </ul>
  </div>
</nav>

  <main>
    <div class="u-wrapper">
      <div class="u-padding">
        

  
    
    <header class="Heading">
  <h1 class="Heading-title">
    <a class="Heading-link u-clickable" href="/" rel="bookmark">Networking &amp; DevOps</a>
  </h1>
  
</header>
<style>
@media screen and (min-width: 769px) {
	     
	    .post-content input[type="checkbox"]:checked ~ label > img {
		            transform: scale(1.6);
			            cursor: zoom-out;
				            position: relative;
					            z-index: 999;
						        }

	        .post-content img.zoomCheck {
			        transition: transform 0.15s ease;
				        z-index: 999;
					        cursor: zoom-in;
						    }
}
</style>

  

  

  
  
    <article>
      
      <header class="Heading">
  <h2 class="Heading-title">
    <a class="Heading-link u-clickable" href="/posts/docker/" rel="bookmark">Docker Introduction</a>
  </h2>
  
    
      <time datetime="2025-08-13T14:05:54Z">August 13, 2025</time>
    
  
</header>
<style>
@media screen and (min-width: 769px) {
	     
	    .post-content input[type="checkbox"]:checked ~ label > img {
		            transform: scale(1.6);
			            cursor: zoom-out;
				            position: relative;
					            z-index: 999;
						        }

	        .post-content img.zoomCheck {
			        transition: transform 0.15s ease;
				        z-index: 999;
					        cursor: zoom-in;
						    }
}
</style>

      
        
          
            <p>In the last few weeks I&rsquo;ve been learning and playing with Docker.</p>




<h2 id="introduction">
  <a class="Heading-link u-clickable" href="/posts/docker/#introduction">Introduction</a>
</h2>
<p>Docker is an open-source platform that enables you to build, ship and run applications in containers. A container is a lightweight and portable self-sufficient unit that includes:</p>
<ul>
<li>The application code</li>
<li>Runtime</li>
<li>System tools and libraries</li>
<li>Settings</li>
</ul>
<p>The beauty of containers is that it doesn&rsquo;t matter what it runs on; the container could be running on Windows, Linux, a laptop, RasPi, or anything that can install Docker. As it&rsquo;s self sufficient, it&rsquo;s completely agnostic to the underlying OS/compute. It&rsquo;s another way to virtualise compute resources that isn&rsquo;t as heavy-handed as having to install a whole new Virtual Machine.</p>
<p>
    
	    <input type="checkbox" id="zoomCheck-2e0f3" hidden>
	        <label for="zoomCheck-2e0f3">
			        <img class="zoomCheck" loading="lazy" decoding="async" 
								                  src="/containers.avif" alt="Containers" 
														                  />
				    </label>
</p>
<p>One or many containers can run on a single host, virtualising the host&rsquo;s resources and creating separate runtimes for each container.</p>




<h2 id="networking">
  <a class="Heading-link u-clickable" href="/posts/docker/#networking">Networking</a>
</h2>
<p>Docker networking is most interesting to me for some reason, and there a few different options you can distribute and network containers.</p>
<ul>
<li>bridge (default): An isolated network for containers on a single host</li>
<li>host: Shares the host’s network stack</li>
<li>overlay: Enables multi-host networking (used in Docker Swarm)</li>
<li>macvlan: Assigns MAC addresses to containers for direct LAN access</li>
<li>none: No networking</li>
</ul>
<p>Overlay is the type that Docker swarm uses, and is used to link containers hosted on different hosts, for a more distributed deployment.</p>




<h2 id="test-deployment">
  <a class="Heading-link u-clickable" href="/posts/docker/#test-deployment">Test Deployment</a>
</h2>
<p>I followed a tutorial to spin up a NGINX reverse proxy which farms out requests to multiple flask servers. See diagram below.</p>
<p>
    
	    <input type="checkbox" id="zoomCheck-d447d" hidden>
	        <label for="zoomCheck-d447d">
			        <img class="zoomCheck" loading="lazy" decoding="async" 
								                  src="/Distributed_nginx.png" alt="Distributed Docker Lab" 
														                  />
				    </label>
</p>
<p>I used a simple docker compose YAML file to spin up both the NGINX and Flask app.py containers, allowing me to create a distributed infrastructure with one command.</p>
<pre><code>docker-compose.yml 
--
version: '3'
services:
web:
    build: ../flask_app
web2:
    build: ../flask_app
nginx:
    image: nginx:alpine
    ports:
    - 80:80
    volumes:
    - ./nginx.conf:/etc/nginx/nginx.conf
    depends_on:
    - web
    - web2
</code></pre>
<br>
The nginx container takes a prepopulated nginx config file to create the reverse proxy, distributing the HTTP requests across both Flask servers.
<pre><code># nginx.conf
events {}
http {
    upstream app_servers {
        server web:5000;
        server web2:5000;
    }
    server {
        listen 80;
        location / {
            proxy_pass http://app_servers;
        }
    }
}
</code></pre>
<br>
The Flask server hosts a simple Python that returns "Hello Docker!" and the hostname name of the container responding to the request:
<pre><code>#!/usr/bin/python3

# app.py
from flask import Flask
import socket
app = Flask(__name__)
@app.route('/')
def home():
    newstring = &quot;Hello, Docker! Hostname is {0}\n&quot;.format(socket.gethostname())

    return newstring
if __name__ == '__main__':
    app.run(host='0.0.0.0')
</code></pre>
<br>
<p>Sending multiple requests shows that Nginx is load balancing the requests across each Flask server:</p>
<pre><code>root@mgmt-host:~/docker# curl localhost
Hello, Docker! Hostname is d9bcfe1b35d0

root@mgmt-host:~/docker# curl localhost
Hello, Docker! Hostname is 36f88db2fc2b

root@mgmt-host:~/docker# curl localhost
Hello, Docker! Hostname is d9bcfe1b35d0

root@mgmt-host:~/docker# curl localhost
Hello, Docker! Hostname is 36f88db2fc2b

root@mgmt-host:~/docker# curl localhost
Hello, Docker! Hostname is d9bcfe1b35d0

root@mgmt-host:~/docker# curl localhost
Hello, Docker! Hostname is 36f88db2fc2b
</code></pre>
<p>Next steps is to create a truly distributed setup; using multiple different hosts to create a converged deployment!</p>

          
        
      
      

  

  





    </article>
    
      <div class="Divider"></div>
    
  
    <article>
      
      <header class="Heading">
  <h2 class="Heading-title">
    <a class="Heading-link u-clickable" href="/posts/ansible/" rel="bookmark">Ansible</a>
  </h2>
  
    
      <time datetime="2025-07-07T13:10:56Z">July 7, 2025</time>
    
  
</header>
<style>
@media screen and (min-width: 769px) {
	     
	    .post-content input[type="checkbox"]:checked ~ label > img {
		            transform: scale(1.6);
			            cursor: zoom-out;
				            position: relative;
					            z-index: 999;
						        }

	        .post-content img.zoomCheck {
			        transition: transform 0.15s ease;
				        z-index: 999;
					        cursor: zoom-in;
						    }
}
</style>

      
        
          
            <p>Ansible is a great bit of software that can streamline and remove human error in deploying and managing a large network. It automates the management of remote systems and controls their desired state.</p>
<p>
    
	    <input type="checkbox" id="zoomCheck-3f269" hidden>
	        <label for="zoomCheck-3f269">
			        <img class="zoomCheck" loading="lazy" decoding="async" 
								                  src="https://docs.ansible.com/ansible/latest/_images/ansible_inv_start.svg" alt="Overview of Ansible Components" 
														                  />
				    </label>
</p>
<ul>
<li>The Control node is where Ansible is installed. This is where the network inventory is created and stored.</li>
<li>The Managed node(s) are the remote managed systems</li>
</ul>
<p>I have deployed Ansible on a server that can reach my Arista nodes&rsquo; mgmt network:</p>
<p>
    
	    <input type="checkbox" id="zoomCheck-4e68f" hidden>
	        <label for="zoomCheck-4e68f">
			        <img class="zoomCheck" loading="lazy" decoding="async" 
								                  src="/Ansible_diagram.png" alt="Arista Ansible Lab" 
														                  />
				    </label>
</p>
<p>Ansible obviously needs mgmt connectivity to the devices, it should fit in nicely along other network management resources which <b>of course are firewalled with 5-tuple rules, zoned approapriatly alongside same-trust-level resources, and only have strictly-controlled web-proxy-based outbound access to the Internet (if at all).</b></p>
<p>My root Ansible directory contains a config file and 3 folders:</p>
<pre><code>drwxr-xr-x   5 root root  4096 Jul  3 11:05 .
drwxr-xr-x 101 root root  4096 Jul  7 13:44 ..
-rw-r--r--   1 root root 40643 Jul  3 09:25 ansible.cfg
drwxr-xr-x   3 root root  4096 Jul  7 13:44 inventory
drwxr-xr-x   2 root root  4096 Jul  3 11:21 playbooks
drwxr-xr-x   2 root root  4096 Jul  3 11:05 templates
</code></pre>
<br>
<ul>
<li>Inventory - this is where you define and organise your remote systems</li>
<li>Playbooks - playbooks are files that contain instructions and tasks to acheive the device management and configuration</li>
<li>Templates - if using JinJa2 in playbooks, this is where the device configuration templates are stored ready for access by the playbook</li>
</ul>
<h2>Inventory</h2>
<p>The inventory can be organised in various different ways; I organise by device vendor and/or CLI language so I can easily apply playbooks to the whole vendor estate</p>
<pre><code>root@mgmt-host:/etc/ansible/inventory# ls
arista

root@mgmt-host:/etc/ansible/inventory# cd arista/
root@mgmt-host:/etc/ansible/inventory/arista# ls
hosts.yaml  host_vars
</code></pre>
<br>
<p>Hosts.yaml is the inventory file where the devices are listed and organised into groups. &ldquo;All&rdquo; contains all the devices in this file, but you can use &ldquo;children&rdquo; to organise into arbitrary groups</p>
<pre><code>root@mgmt-host:/etc/ansible/inventory/arista# cat hosts.yaml
all:
hosts:
    leaf1:
    leaf2:
    spine1:
children:
    leafs:
    leaf1:
    leaf2:
    spines:
    spine1:
vars:
    ansible_connection: ansible.netcommon.network_cli
    ansible_network_os: arista.eos.eos
</code></pre>
<br>
<p>&ldquo;vars&rdquo; contains variables common to the specific groups; here I&rsquo;ve listed vars under &ldquo;all&rdquo; to apply to all the hosts in the inventory file.</p>
<pre><code>root@mgmt-host:/etc/ansible/inventory/arista# cd host_vars/
root@mgmt-host:/etc/ansible/inventory/arista/host_vars# ls
leaf1.yaml  leaf2.yaml  spine1.yaml
</code></pre>
<br>
<p>&ldquo;host-vars&rdquo; contains files that allow arbitrary per-device variables; here I&rsquo;ve defined hostname and vtep_ip. These can be accessed in the Jinja2 templating module</p>
<pre><code>root@mgmt-host:/etc/ansible/inventory/arista/host_vars# cat leaf1.yaml
hostname: leaf1
vtep_ip: 10.0.0.1
</code></pre>
<br>
<h2>Playbooks</h2>
<p>Playbooks are lists of tasks and actions to perform on the remote devices. They are YAML files, and can have 1 or many tasks.</p>
<p>Ansible content collections can add content not included in the Ansible &ldquo;core&rdquo;. They are a way to add vendor or other content without building it directly into Ansible.</p>
<p>The Arista EOS collection is called &ldquo;arista.eos&rdquo; - there are many modules in the collection, including an arbitrary CLI and HTTP API module.</p>
<p><a href="https://docs.ansible.com/ansible/latest/collections/arista/eos/index.html">Ansible Arista EOS Collection</a></p>
<p>See an example of a Playbook below, updating all the management interface descriptions:</p>
<pre><code>---

- name: Configure interface descriptions
hosts: all
gather_facts: false

tasks:

    - name: Add interface desc
    arista.eos.eos_interfaces:
        config:
        - name: Management1
            description: &quot;configured by Ansible&quot;
        state: merged
    become: true
</code></pre>
<br>
<p>When the playbook is run against the &ldquo;arista&rdquo; inventory, you get an output based of the Playbook&rsquo;s success</p>
<pre><code>root@mgmt-host:/etc/ansible# ansible-playbook playbooks/pb_interface_desc.yaml -i inventory/arista  -uadmin

PLAY [Configure interface descriptions] ***********************************************************************************************************

TASK [Add interface desc] *************************************************************************************************************************
changed: [leaf1]
changed: [spine1]
changed: [leaf2]

PLAY RECAP ****************************************************************************************************************************************
leaf1                      : ok=1    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0
leaf2                      : ok=1    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0
spine1                     : ok=1    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0

root@mgmt-host:/etc/ansible#
</code></pre>
<h2>Summary</h2>
<p>There&rsquo;s lots to unpack, but this is what&rsquo;s meant as &ldquo;infrastructure as code&rdquo;; an entire network can be managed and maintained purely by building inventories and playbooks. Once you&rsquo;ve got to grips with host_vars, the size of the network almost becomes irrelevant.</p>

          
        
      
      

  

  





    </article>
    
      <div class="Divider"></div>
    
  
    <article>
      
      <header class="Heading">
  <h2 class="Heading-title">
    <a class="Heading-link u-clickable" href="/posts/current-skills/" rel="bookmark">Current Skills</a>
  </h2>
  
    
      <time datetime="2025-06-17T10:25:24Z">June 17, 2025</time>
    
  
</header>
<style>
@media screen and (min-width: 769px) {
	     
	    .post-content input[type="checkbox"]:checked ~ label > img {
		            transform: scale(1.6);
			            cursor: zoom-out;
				            position: relative;
					            z-index: 999;
						        }

	        .post-content img.zoomCheck {
			        transition: transform 0.15s ease;
				        z-index: 999;
					        cursor: zoom-in;
						    }
}
</style>

      
        
          
            <p>In my last post I posted the DevOps knowledge journey, allowing engineers to learn all the skills necessary. Here I want to do a gap analysis; what skills do I have compared to the Roadmap, and where do I need to direct my learning.</p>




<h2 id="learn-git">
  <a class="Heading-link u-clickable" href="/posts/current-skills/#learn-git">Learn Git</a>
</h2>
<p>I have beginner to intermediate skills and knowledge of Git.</p>
<p>I have a public GitHub with various repos of personal and professional projects:</p>
<p><a href="http://www.github.com/tbendall">Tristan&rsquo;s GitHub Profile</a></p>
<p>This is a great guide to introduce into git.</p>
<p><a href="https://rogerdudler.github.io/git-guide">Git Introduction Guide</a></p>
<p> </p>




<h2 id="learn-programming-languages">
  <a class="Heading-link u-clickable" href="/posts/current-skills/#learn-programming-languages">Learn Programming Languages</a>
</h2>
<p>I have been using and learning Python for over 10 years in my capacity as Network Engineer/Design/Architect. I have completed various projects using Python that have led to a high success rate of the project</p>
<p>Using Python to interact with Juniper routers and switches proves especially powerful to manage a large estate</p>
<pre><code>from jnpr.junos import Device 
   with Device(host=host_ip,user=username,passwd=password,port=22) as dev:
   test
</code></pre>

          
        
      
      

  

  





    </article>
    
      <div class="Divider"></div>
    
  
    <article>
      
      <header class="Heading">
  <h2 class="Heading-title">
    <a class="Heading-link u-clickable" href="/posts/devops-roadmap/" rel="bookmark">DevOps Roadmap</a>
  </h2>
  
    
      <time datetime="2025-06-17T08:10:12Z">June 17, 2025</time>
    
  
</header>
<style>
@media screen and (min-width: 769px) {
	     
	    .post-content input[type="checkbox"]:checked ~ label > img {
		            transform: scale(1.6);
			            cursor: zoom-out;
				            position: relative;
					            z-index: 999;
						        }

	        .post-content img.zoomCheck {
			        transition: transform 0.15s ease;
				        z-index: 999;
					        cursor: zoom-in;
						    }
}
</style>

      
        
          
            <p>A friend recommended to me the DevOps roadmap - a learning journey to develop the various DevOps and Infrastructure skills that are in most demand.</p>
<p><a href="https://github.com/milanm/DevOps-Roadmap">https://github.com/milanm/DevOps-Roadmap</a></p>
<p>
    
	    <input type="checkbox" id="zoomCheck-63753" hidden>
	        <label for="zoomCheck-63753">
			        <img class="zoomCheck" loading="lazy" decoding="async" 
								                  src="https://github.com/milanm/DevOps-Roadmap/blob/master/DevOps%20Roadmap.png?raw=true" alt="DevOps Journey" 
														                  />
				    </label>
</p>

          
        
      
      

  

  





    </article>
    
      <div class="Divider"></div>
    
  
    <article>
      
      <header class="Heading">
  <h2 class="Heading-title">
    <a class="Heading-link u-clickable" href="/posts/my-first-post/" rel="bookmark">My First Post</a>
  </h2>
  
    
      <time datetime="2025-06-03T13:41:12Z">June 3, 2025</time>
    
  
</header>
<style>
@media screen and (min-width: 769px) {
	     
	    .post-content input[type="checkbox"]:checked ~ label > img {
		            transform: scale(1.6);
			            cursor: zoom-out;
				            position: relative;
					            z-index: 999;
						        }

	        .post-content img.zoomCheck {
			        transition: transform 0.15s ease;
				        z-index: 999;
					        cursor: zoom-in;
						    }
}
</style>

      
        
          
            



<h2 id="overview">
  <a class="Heading-link u-clickable" href="/posts/my-first-post/#overview">Overview</a>
</h2>
<p>I wanted to set up a site that demonstrated my foray into DevOps skills, so as a project in and of itself, I&rsquo;ve created this platform as a challenge and demonstration of my infrastructure skills.</p>
<p>
    
	    <input type="checkbox" id="zoomCheck-8b7f7" hidden>
	        <label for="zoomCheck-8b7f7">
			        <img class="zoomCheck" loading="lazy" decoding="async" 
								                  src="/diagram.png" alt="Diagram of initial DevOps setup" 
														                  />
				    </label>
</p>
<ul>
<li>Hosted on a Free SKU Azure VM</li>
<li>Uses GitHub for basic Version Controlling</li>
<li>Uses my bendall.co domain to create a Dynamic DNS entry for &ldquo;devops.bendall.co&rdquo; using ddclient package</li>
<li>VM is protected with a NSG to lockdown access for mgmt and web</li>
<li>VM is secured with non-standard SSH port and public/private keys enabling secure and passwordless login</li>
<li></li>
<li>NGINX is used as a reverse proxy for Hugo easy site builder (as I&rsquo;m terrible at front-end)</li>
<li>Let&rsquo;s Encrypt TLS Certificate used instead of self-signed</li>
<li></li>
<li>VSCode with Remote-SSH used for remote development; let&rsquo;s face it, no-one should be coding in a terminal these days</li>
</ul>

          
        
      
      

  

  





    </article>
    
  

  



      </div>
    </div>
  </main>
  
  <footer class="Footer">
    <div class="u-wrapper">
      <div class="u-padding u-noboosting">
        Except where otherwise noted, content on this site is licensed under a &#32; <a href="http://creativecommons.org/licenses/by/4.0/" rel="license">Creative Commons Attribution 4.0 International License</a>.
      </div>
    </div>
  </footer>

</body>

</html>
